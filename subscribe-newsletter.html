<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>서비스메일 구독</title>
    </head>
    <link rel="stylesheet" href="style.css" />
    <body>
        <a class="btn home" href="index.html">홈으로</a>
        <p id="loggedUser"></p>
        <h3>public</h3>
        <form onsubmit="skapi.subscribeNewsletter(event).then(res => alert(res))">
            <input type="email" name="email" placeholder="E-Mail address">
            <input hidden name="group" value="public">
            <input type="submit" value="Subscribe">
        </form>
        <h3>authorized</h3>
        <form onsubmit="skapi.subscribeNewsletter(event).then(res => alert(res))">
            <input hidden name="group" value="authorized">
            <input type="submit" value="Subscribe">
        </form>
        <!-- <h3>get subscibe list</h3> -->

        <h3>custom group subscribe</h3>
        <form onsubmit="skapi.subscribeNewsletter(event).then(res => alert(res))">
            <input name="group"/>
            <input type="submit" value="Subscribe"/>
        </form>
        <h3>custom group unsubscribe</h3>
        <form onsubmit="skapi.unsubscribeNewsletter(event).then(res => alert(res))">
            <input name="group"/>
            <input type="submit" value="Unsubscribe"/>
        </form>
    </form>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/skapi-js@1.0.247-beta.3/dist/skapi.js"></script>
    <script src="service.js"></script>
    <script>
        skapi.getNewsletterSubscription({
            group: 'authorized'
        }).then(subs => {
            console.log(subs);
        })
    </script>
</html>